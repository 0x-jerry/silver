#!/usr/bin/env tsx

import { sliver } from '../../src'

const ins = sliver`
v1.0.0 @help @autocompletion

xx [@test|_files:test], is a library for create command line interface quickly. ${fn}

-t --test @test|_files:t1, Test autocompletion.

up/upgrade <@test|_files:dir> [...other] #stopEarly, an sub command. ${upFn}

-s --string @string:default, sub command option.
--small @bool, other option.
`

ins.type('test', ['t1', 't2', 't3:dev'])

ins.type('type', () => [...ins.typeMapper.keys()])

/**
 *
 * @param opt
 */
function fn(_params, opt) {
  console.log(JSON.stringify(opt, null, 2))
}

function upFn(_params, opt) {
  console.log('update action', _params)
}
